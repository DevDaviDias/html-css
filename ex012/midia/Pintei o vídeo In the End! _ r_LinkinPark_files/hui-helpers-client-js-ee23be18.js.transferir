import{p as t,x as e,el as s,a4 as i,c as n,_ as o,n as a,t as r,s as l,e as c}from"./shell-44808257.js";import{B as h,b as p}from"./badge-87269a1d.js";import{F as u,l as d,s as m}from"./faceplate-hovercard-d0236c3f.js";import"./faceplate-tooltip-cd26ff33.js";let C=class extends(t(l)){constructor(){super(...arguments),this.appearance=h.ALERT,this.outline=!1,this.initialCount=0,this.badgeClassname="",this.setCountEvent="",this.count=0,this.setCount=t=>{this.count=Number(t??0)},this.getCount=()=>this.count}connectedCallback(){super.connectedCallback(),this.count=this.initialCount,this.setCountEvent&&this.subscribe(this.setCountEvent,this.setCount)}disconnectedCallback(){super.disconnectedCallback(),this.setCountEvent&&this.unsubscribe(this.setCountEvent,this.setCount)}render(){return this.count?e`${p({appearance:this.appearance,outline:this.outline,content:s(this.count).toString(),attributes:{className:this.badgeClassname}})}`:i}};C.styles=[n],o([a({type:String})],C.prototype,"appearance",void 0),o([a({type:Boolean})],C.prototype,"outline",void 0),o([a({type:Number,attribute:"initial-count"})],C.prototype,"initialCount",void 0),o([a({type:String,attribute:"badge-classname"})],C.prototype,"badgeClassname",void 0),o([a({type:String,attribute:"set-count-event"})],C.prototype,"setCountEvent",void 0),o([r()],C.prototype,"count",void 0),C=o([c("dynamic-badge")],C);let g=class extends u{constructor(){super(...arguments),this.triggerEvent="click",this.addListenersWhileOpened2=()=>{document.addEventListener("click",this.handleDocumentClick2),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened2=()=>{document.removeEventListener("click",this.handleDocumentClick2),document.removeEventListener("keydown",this.handleEscape)},this.handleDocumentClick2=t=>{if(!(t.target instanceof HTMLElement)||this.hidden)return;if(this.isEventIgnorable(t))return;this._eventUsedMap.has(t)||this.close()},this.isEventIgnorable=t=>this.contains(t.target),this.handleFaceplateTrack2=()=>{this.closeOnTrack&&this.close()},this.render=()=>{const t=this._popperController.actualPosition||this.position;return e`\n <slot \n aria-describedby="faceplate-tooltip" \n faceplate-popper-trigger\n @click="${this.handleClick}" \n></slot>\n <article \n id="faceplate-tooltip" \n role="dialog" \n position="${t}" \n faceplate-popper-content\n>\n <slot name="content" @faceplate-track="${this.handleFaceplateTrack2}"></slot>\n </article>\n `}}async show(){this.emitter.dispatch("open"),this.updateCustomProperties2(),this._popperController.open().then((()=>{this.hidden||(this.addListenersWhileOpened2(),this.emitter.dispatch("opened"))})),d(this).then(m(this._popperController.reposition)).then(m((t=>{t&&(this.focusManager?.refresh(),this.focusManager?.focus())}))),await this._popperController.currentState.animationFinished,this.focusManager?.focus(),this.cleanupTimeouts()}close(){return this.cleanupListenersWhileOpened2(),super.close()}updateCustomProperties2(){if("faceplate-tooltip"!==this.tagName.toLocaleLowerCase())return;const{clientHeight:t=null,clientWidth:e=null}=this.referenceElement,{clientHeight:s=null,clientWidth:i=null}=this._tooltip;t&&e&&s&&i&&(this.style.setProperty("--target-width",`${Math.round(e)}px`),this.style.setProperty("--target-height",`${Math.round(t)}px`),this.style.setProperty("--tooltip-width",`${Math.round(i)}px`),this.style.setProperty("--tooltip-height",`${Math.round(s)}px`))}};g=o([c("click-card")],g);
//# sourceMappingURL=hui-helpers-client-js-ee23be18.js.map
