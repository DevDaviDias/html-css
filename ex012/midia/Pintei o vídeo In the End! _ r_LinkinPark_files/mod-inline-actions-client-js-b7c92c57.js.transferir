import{c as e,_ as t,n as i,s as o,l as s,x as n,a1 as r,e as a,a5 as d,a6 as l,p as c,aq as h,dp as p,cT as m,ap as u,c9 as A,eu as v,am as b,dJ as k,a0 as g,f as C,d as y,aB as R,a_ as f,r as M,bh as z,db as S,d8 as w,t as I}from"./shell-44808257.js";import"./faceplate-shimmer-fa1b2f2c.js";import"./faceplate-tooltip-cd26ff33.js";import{I as U}from"./icon-add-outline-5b237830.js";import{i as B}from"./icon-lock-fill-9f1c82ca.js";import{i as L}from"./icon-lock-outline-6daf4c5c.js";import{I as D}from"./icon-pin-fill-22743f0a.js";import{I as x}from"./icon-pin-outline-5da9a8da.js";import{I as E}from"./icon-remove-outline-642c3a61.js";import{W as Z}from"./with-tracking-1c80ecb6.js";import{I as j}from"./icon-nsfw-outline-c883366f.js";import{I as P}from"./icon-spoiler-outline-46925753.js";let N=class extends o{constructor(){super(...arguments),this.showFullButtons=!1,this.ariaLabel="",this._handleModActionClick=()=>{this.dataModAction&&this.dispatchEvent(s(this.dataModAction))}}render(){return n` <faceplate-tracker source="moderator" action="click" noun="${this.noun}">\n <button \n aria-label="${this.ariaLabel}" \n @click="${this._handleModActionClick}" \n class="${r(this.buttonClass)} button button-small relative px-xs flex justify-center items-center" \n>\n <span class="${this.showFullButtons?"s:hidden":""} flex justify-center items-center">\n <slot name="icon"></slot></span>\n ${this.showFullButtons?n`<span aria-hidden="true" class="hidden s:block">\n <slot name="text"></slot>\n </span>`:""}\n </button>\n </faceplate-tracker>`}};N.styles=[e],t([i({type:String,attribute:"data-mod-action"})],N.prototype,"dataModAction",void 0),t([i({type:String,attribute:"event-noun"})],N.prototype,"noun",void 0),t([i({type:String,attribute:"button-class"})],N.prototype,"buttonClass",void 0),t([i({type:Boolean,attribute:"show-full-buttons"})],N.prototype,"showFullButtons",void 0),t([i({type:String,attribute:"aria-label"})],N.prototype,"ariaLabel",void 0),N=t([a("mod-action-button")],N);const{svg:V}=d();var O=l(V`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20Z"></path>`,"0 0 20 20","distinguish-fill");const{svg:$}=d();var F=l($`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20ZM2.31 10A13.9 13.9 0 0 1 10 17.691 13.9 13.9 0 0 1 17.691 10a13.9 13.9 0 0 1-7.69-7.691A13.9 13.9 0 0 1 2.308 10Z"></path>`,"0 0 20 20","distinguish-outline");const{svg:T}=d();var W=l(T`<path d="M7.25 8.5A2.752 2.752 0 0 0 10 11.25a2.72 2.72 0 0 0 1.33-.358L7.609 7.169A2.721 2.721 0 0 0 7.25 8.5Z"></path><path d="M10 5.75a2.721 2.721 0 0 0-1.331.358l3.723 3.723A2.72 2.72 0 0 0 12.75 8.5 2.752 2.752 0 0 0 10 5.75Z"></path><path d="M18.67 2.13a.819.819 0 0 0-.7-.047 8.832 8.832 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.351.563v17.191h.24V20H3v-5.442a9.033 9.033 0 0 1 6.826.4 10.084 10.084 0 0 0 8.822 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602ZM10 12.75a4.25 4.25 0 1 1 0-8.5 4.25 4.25 0 0 1 0 8.5Z"></path>`,"0 0 20 20","ignore-reports-fill");const{svg:H}=d();var _=l(H`<path d="M10 4.326a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM7.125 8.451a2.845 2.845 0 0 1 .454-1.536l3.958 3.957a2.865 2.865 0 0 1-4.412-2.421Zm5.3 1.537L8.462 6.031a2.864 2.864 0 0 1 3.959 3.957h.004Zm6.25-7.858a.819.819 0 0 0-.7-.047 8.839 8.839 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.352.563v17.191h1.25V14.8a9.04 9.04 0 0 1 7.477.162 10.084 10.084 0 0 0 8.821 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602h.004ZM17.75 14a8.817 8.817 0 0 1-7.38-.162 10.308 10.308 0 0 0-8.022-.382V2.985a9.035 9.035 0 0 1 7.477.161 9.938 9.938 0 0 0 7.925.385V14Z"></path>`,"0 0 20 20","ignore-reports-outline");const{svg:q}=d();var J=l(q`<path d="M10 20c-.101 0-.202-.014-.3-.04C8.249 19.554 1 17.277 1 12V3.187A1.122 1.122 0 0 1 1.846 2.1L9.73.108c.177-.044.363-.044.54 0L18.154 2.1A1.122 1.122 0 0 1 19 3.187V12c0 5.277-7.249 7.554-8.7 7.957A1.162 1.162 0 0 1 10 20ZM2.25 3.283V12c0 4.465 6.989 6.531 7.786 6.751.725-.22 7.714-2.286 7.714-6.751V3.283L10 1.33 2.25 3.283Z"></path>`,"0 0 20 20","mod-outline");const G=c(Z(o));class K extends G{constructor(){super(...arguments),this.size=h.Medium,this.appearance="content-action",this.isCurrentUserAuthor=!1,this.isArchived=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isReportingIgnored=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.modActionsController=new p(this,(()=>this.thingId||""))}shouldAlwaysShowApproveRemoveAction(){return!this.isModModeEnabled&&!this.verdict&&!this.hasReports}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.isDeleted||this.isRemoved||this.viewContext===m.ProfileFeed||this.viewContext===m.ProfileFeed2)}get isLockable(){return!(this.isDeleted||this.isRemoved||this.isArchived)}renderApproveAction(){return this.shouldAlwaysShowApproveRemoveAction()||this.isRemoved?u({leadingIcon:A(),label:"Aprovar",size:this.size,onClick:this.modActionsController.handleApproveContent}):null}renderRemoveAction(){const e=this.verdict===v.ModApproved||this.verdict===v.AdminApproved;return this.shouldAlwaysShowApproveRemoveAction()||e?u({leadingIcon:b(),label:"Remover",size:this.size,onClick:this.modActionsController.handleRemoveContent}):null}renderConfirmRemovalAction(){return this.isRemoved&&"AutoModerator"===this.verdictBy?u({leadingIcon:E(),label:"Confirmar remoção",size:this.size,onClick:this.modActionsController.handleConfirmRemoval}):null}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:u({leadingIcon:_(),label:"Ignorar denúncias e aprovar",size:this.size,onClick:this.modActionsController.handleIgnoreReports})}renderUnignoreReportsAction(){return this.isReportingIgnored?u({leadingIcon:W(),label:"Restaurar denúncias",size:this.size,onClick:this.modActionsController.handleUnignoreReports}):null}renderAddRemovalReasonAction(){return!(this.verdict===v.ModRemoved||this.verdict===v.AdminRemoved)||this.hasRemovalReason?null:u({leadingIcon:U(),label:"Adicionar motivo de remoção",size:this.size,onClick:this.modActionsController.handleAddRemovalReason})}renderDistinguishAction(){return!this.isDistinguishable||this.isRemoved||this.distinguishedAs===k.Moderator?null:u({leadingIcon:F(),label:"Distinguir como mod",size:this.size,onClick:this.modActionsController.handleDistinguish})}renderDistinguishAsAdminAction(){return this.isAdmin&&this.isDistinguishable&&!this.isRemoved&&this.distinguishedAs!==k.Admin?u({leadingIcon:F(),label:"Distinguir como admin",size:this.size,onClick:this.modActionsController.handleDistinguishAsAdmin}):null}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===k.Moderator?u({leadingIcon:O(),label:"Remover distinção de mod",size:this.size,onClick:this.modActionsController.handleUndistinguish}):null}renderUndistinguishAsAdminAction(){return this.isAdmin&&this.isDistinguishable&&this.distinguishedAs===k.Admin?u({leadingIcon:O(),label:"Remover distinção de admin",size:this.size,onClick:this.modActionsController.handleUndistinguishAsAdmin}):null}renderStickyAction(e){return!this.isStickyable||this.isStickied?null:u({leadingIcon:x(),label:e,size:this.size,onClick:this.modActionsController.handleSticky})}renderUnstickyAction(e){return this.isStickyable&&this.isStickied?u({leadingIcon:D(),label:e,size:this.size,onClick:this.modActionsController.handleUnsticky}):null}renderLockAction(e){return!this.isLockable||this.isLocked?null:u({leadingIcon:L(),label:e,size:this.size,onClick:this.modActionsController.handleLock})}renderUnlockAction(e){return this.isLockable&&this.isLocked?u({leadingIcon:B(),label:e,size:this.size,onClick:this.modActionsController.handleUnlock}):null}handleClickEvent(e){e.stopPropagation()}renderMenuTrigger(){const e={leadingIcon:J({size:g.Small}),screenReaderContent:"Menu de ações de moderação",attributes:{type:"button"},appearance:"secondary",size:C.Small};return n`\n <faceplate-tracker source="moderator" action="click" noun="mod-shield-menu">\n ${"hover-menu"===this.appearance?y({...e,appearance:"secondary"}):R({...e,appearance:"plain"})}\n </faceplate-tracker>\n `}render(){return n`\n <faceplate-dropdown-menu position="bottom-end" @click="${this.handleClickEvent}">\n ${this.renderMenuTrigger()}\n <faceplate-menu slot="menu">\n ${this.renderActions()}\n <slot name="devvit-actions"></slot>\n </faceplate-menu>\n </faceplate-dropdown-menu>\n `}}K.styles=[e],t([i({type:String,attribute:"thing-id"})],K.prototype,"thingId",void 0),t([i({type:String})],K.prototype,"size",void 0),t([i({type:String})],K.prototype,"appearance",void 0),t([i({type:String,attribute:"view-context"})],K.prototype,"viewContext",void 0),t([i({type:String,attribute:"distinguished-as"})],K.prototype,"distinguishedAs",void 0),t([i({type:String,attribute:"verdict"})],K.prototype,"verdict",void 0),t([i({type:String,attribute:"verdict-by"})],K.prototype,"verdictBy",void 0),t([i({type:Boolean,attribute:"current-user-author"})],K.prototype,"isCurrentUserAuthor",void 0),t([i({type:Boolean,attribute:"archived"})],K.prototype,"isArchived",void 0),t([i({type:Boolean,attribute:"deleted"})],K.prototype,"isDeleted",void 0),t([i({type:Boolean,attribute:"removed"})],K.prototype,"isRemoved",void 0),t([i({type:Boolean,attribute:"mod-mode"})],K.prototype,"isModModeEnabled",void 0),t([i({type:Boolean,attribute:"is-admin"})],K.prototype,"isAdmin",void 0),t([i({type:Boolean,attribute:"locked"})],K.prototype,"isLocked",void 0),t([i({type:Boolean,attribute:"stickied"})],K.prototype,"isStickied",void 0),t([i({type:Boolean,attribute:"reporting-ignored"})],K.prototype,"isReportingIgnored",void 0),t([i({type:Boolean,attribute:"has-reports"})],K.prototype,"hasReports",void 0),t([i({type:Boolean,attribute:"has-removal-reason"})],K.prototype,"hasRemovalReason",void 0);let Q=class extends K{constructor(){super(...arguments),this.hasParent=!1,this.handleCommentUpdate=({commentId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case f.lock:this.isLocked=Boolean(i);break;case f.sticky:this.isStickied=Boolean(i);break;case f.distinguishAsMod:this.distinguishedAs=i?k.Moderator:void 0;break;case f.distinguishAsAdmin:this.distinguishedAs=i?k.Admin:void 0;break;case f.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=v.ModApproved;break;case f.remove:case f.confirmRemoval:this.isRemoved=!0,this.verdict=v.ModRemoved;break;case f.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case f.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=v.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.subscribe(M.CommentUpdated,this.handleCommentUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(M.CommentUpdated,this.handleCommentUpdate)}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderDistinguishAsAdminAction(),this.renderUndistinguishAsAdminAction(),this.renderStickyAction("Fixar comentário"),this.renderUnstickyAction("Desafixar comentário"),this.renderLockAction("Trancar comentário"),this.renderUnlockAction("Destrancar comentário")]}};t([i({type:Boolean,attribute:"has-parent"})],Q.prototype,"hasParent",void 0),Q=t([a("shreddit-comment-mod-actions-menu")],Q);const{svg:X}=d();var Y=l(X`<path d="M17.882 14h-1.926L11.9 1.386a2 2 0 0 0-3.8 0L4.044 14H2.118A1.099 1.099 0 0 0 1 15.083v2.834A1.1 1.1 0 0 0 2.118 19h15.764A1.101 1.101 0 0 0 19 17.917v-2.834A1.1 1.1 0 0 0 17.882 14Zm-5.168-6H7.286l.562-1.75h4.3L12.714 8Zm.4 1.25.564 1.75H6.322l.562-1.75h6.23ZM9.289 1.769a.747.747 0 0 1 1.422 0L11.75 5h-3.5l1.039-3.231ZM5.92 12.25h8.16l.562 1.75H5.358l.562-1.75Zm11.83 5.5H2.25v-2.5h15.5v2.5Z"></path>`,"0 0 20 20","crowd-control-outline");let ee=class extends K{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.isPostLevelCrowdControlEnabled=!1,this.handlePostUpdate=({postId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case z.lock:this.isLocked=Boolean(i);break;case z.sticky:this.isStickied=Boolean(i);break;case z.distinguishAsMod:this.distinguishedAs=i?k.Moderator:void 0;break;case z.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=v.ModApproved;break;case z.remove:case z.confirmRemoval:this.isRemoved=!0,this.verdict=v.ModRemoved;break;case z.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case z.markAsNsfw:this.isNsfw=Boolean(i);break;case z.markAsSpoiler:this.isSpoiler=Boolean(i);break;case z.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=v.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.viewContext!==m.CommentsPage}connectedCallback(){super.connectedCallback(),this.subscribe(M.PostUpdated,this.handlePostUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(M.PostUpdated,this.handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:u({leadingIcon:j(),label:"Marcar como 18+",size:this.size,onClick:this.modActionsController.handleMarkNsfw})}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:u({leadingIcon:S(),label:"Desmarcar como 18+",size:this.size,onClick:this.modActionsController.handleUnmarkNsfw})}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:u({leadingIcon:P(),label:"Marcar como spoiler",size:this.size,onClick:this.modActionsController.handleMarkSpoiler})}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:u({leadingIcon:w(),label:"Desmarcar como spoiler",size:this.size,onClick:this.modActionsController.handleUnmarkSpoiler})}renderAdjustCrowdControlAction(){return u({leadingIcon:Y(),label:"Ajustar controle de multidão",size:this.size,onClick:this.modActionsController.handleAdjustCrowdControl})}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Fixar post"),this.renderUnstickyAction("Desafixar post"),this.renderLockAction("Trancar comentários"),this.renderUnlockAction("Destrancar comentários"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.isPostLevelCrowdControlEnabled?this.renderAdjustCrowdControlAction():null]}};t([i({type:Boolean,attribute:"nsfw"})],ee.prototype,"isNsfw",void 0),t([i({type:Boolean,attribute:"spoiler"})],ee.prototype,"isSpoiler",void 0),t([i({type:Boolean,attribute:"post-level-crowd-control-enabled"})],ee.prototype,"isPostLevelCrowdControlEnabled",void 0),ee=t([a("shreddit-post-mod-actions-menu")],ee);let te=class extends o{constructor(){super(...arguments),this.parentElementWidth=0,this.minWidthToShowLabel=460}connectedCallback(){super.connectedCallback(),this.initializeResizeObserver()}disconnectedCallback(){this.cleanupResizeObserver(),super.disconnectedCallback()}initializeResizeObserver(){this.parentOfModVerdictSlotElement=this.querySelector('[slot="mod-verdict"]')?.parentElement,this.parentElement&&(this.resizeObserver=new ResizeObserver((e=>{for(const t of e)this.parentElementWidth=t.contentRect.width})),this.resizeObserver.observe(this.parentElement))}cleanupResizeObserver(){this.resizeObserver&&this.parentElement&&this.resizeObserver.unobserve(this.parentElement)}render(){return n`\n <span class="inline-flex items-center gap-xs text-12 text-neutral-content">\n <slot name="verdict-indicator-avatar"></slot>\n ${this.shouldShowLabel?n`<span><slot name="verdict-indicator-label"></slot></span>`:""}\n </span>\n `}get shouldShowLabel(){return this.parentElementWidth>=this.minWidthToShowLabel}};te.styles=[e],t([I()],te.prototype,"parentElementWidth",void 0),t([I()],te.prototype,"parentOfModVerdictSlotElement",void 0),te=t([a("mod-verdict-indicator-component")],te);
//# sourceMappingURL=mod-inline-actions-client-js-b7c92c57.js.map
